## 4.ОПИСАНИЕ РАБОТЫ. АЛГОРИТМЫ И СТРУКТУРЫ.  
В предыдущем разделе мы говорили про 3 основных блока работы программы.
Но первый блок не представляет из себя серьезного программного обеспечения, и его описание, приведённое в предудущем разделе, пожалуй можно назвать исчерпывающим. 
Так же данный блок при работе программы используется единожды в процессе импорта данных, и не принимает участия в вычислениях, связанных с выполнением поставленной задачи.  
Конкретно в данном разделе будет идти разговор о принципах работы 2 последних блоков и всей системы в целом. Именно эти блоки производят основной объём вычислений и визуализируют полученные данные.
________________________
### 4.1 ОБЩАЯ СТРУКТУРА
Напомним задачу, поставленную нами в рамках решения курсовой работы. Выработка прогноза дальнейшего обучения студента на основании баллов ЕГЭ и на основании оценок за первый семестр обучения. В структуре программы насчитывается 9- python файлов с кодом, база данных SQL. с 3 таблицами, файл формата xlsx. Передавать файлы одним архивом.  
![alt text](https://github.com/Kiri28/Data-analysis_project/blob/master/pictures/Picture11.png)
  Условно мы можем представить всю работу программы по следующему принципу (см. рисунок). Изначально мы ищем предметы, на которые тем или иным образом влияют баллы ЕГЭ. Далее проводим обучение программы на предмет установления наиболее вероятного распределения баллов за выбранный предмет в течение первого семестра. Либо же пользуемся уже имеющимися в наличии данными об успеваемости студента за 1 семестр. Как мы сможем убедиться с вами в дальнейшем, второй вариант будет использоваться нами гораздо чаще и будет давать наиболее точные прогнозы.
Далее происходит кластеризация студентов по баллам за 1 семестр. На основании полученных нами данных будет осуществляться машинное обучение на предмет подбора ближайших соседей с целью выявления их статистики по обучению на протяжении всего времяпрепровождения в вузе и, соответственно выдачи итогового прогноза по обучению студента как результата комбинации статистик обучения его К- ближайших «соседей» по оценкам за 1 семестр. После этого пользователю будет предложена визуализация как итогового, так и всех промежуточных результатов с целью ознакомления с процессами работы программы.  
________________________
### 4.2 СТРУКТУРИРОВАНИЕ ЗАПРОСА
В изначальный момент времени в нашем распоряжении находится база данных stud_spisok_ege.db. Она содержит в себе 3 таблицы: raiting_ege, stud_spisok_ball, stud_spisok.  
![alt text](https://github.com/Kiri28/Data-analysis_project/blob/master/pictures/Picture12.png)
Между тем, нам необходимо найти зависимость между баллами ЕГЭ каждого из предметов на выбранном направлении и оценками за каждый предмет на выбранном направлении (см. рисунок 4). Следует принимать во внимание тот факт, что каждая группа и каждое направление могу иметь собственную программу обучения с отличной от других групп степенью сложности и влиянием ЕГЭ (здесь и далее баллов ЕГЭ) на какой либо обучающий курс. Ввиду этого факта, нам необходимо проводить поиск зависимости между ЕГЭ и баллами за обучение каждого с0Aтудента для каждого направления отдельно.  
Схема построения списка для проведения статистики выглядит следующим образом:
![alt text](https://github.com/Kiri28/Data-analysis_project/blob/master/pictures/Picture13.png)

Здесь исполняется нехитрый алгоритм выборки студентов из достаточно большого списка (см. рисунок 5). Изначально мы выбираем группу студентов из общего списка групп. Далее, выбираем предмет с ЕГЭ из общего количества предметов и выбираем экзамен. Далее, строим двумерный список состоящий из баллов за экзамен и ЕГЭ, где каждый элемент соответствует элементу позиции студента в выбранном нами списке студентов. После этого переходим к вычислению зависимости между каждым предметом и каждым экзаменом ЕГЭ. 
___________________
### 4.3 ВЫЧИСЛЕНИЕ ЗАВИСИМОСТИ
В данном разделе станет понятно, почему мы строили список столь необычным способом и почему использовали из оценок за предмет лишь баллы за экзамен, а не все оценки за предмет вместе.  
Для вычисления зависимости между двумя величинами воспользуемся вычислением коэффициента статистической корелляции, позволяющей вычислить линейную зависимость между элементами в двумерном пространстве.	
__________________
### 4.3.1 КОЭФФИЦИЕНТ КОРЕЛЛЯЦИИ ПИРСОНА
Критерий корреляции Пирсона – это метод параметрической статистики, позволяющий определить наличие или отсутствие линейной связи между двумя количественными показателями, а также оценить ее тесноту и статистическую значимость. Другими словами, критерий корреляции Пирсона позволяет определить, есть ли линейная связь между изменениями значений двух переменных. В статистических расчетах и выводах коэффициент корреляции обычно обозначается как rxy или Rxy.  
Критерий корреляции Пирсона позволяет определить, какова теснота (или сила) корреляционной связи между двумя показателями, измеренными в количественной шкале. При помощи дополнительных расчетов можно также определить, насколько статистически значима выявленная связь.  
Условия и ограничения применения критерия хи-квадрат Пирсона. 
1.	Сопоставляемые показатели должны быть измерены в количественной шкале (например, частота сердечных сокращений, температура тела, содержание лейкоцитов в 1 мл крови, систолическое артериальное давление).    
2.	Посредством критерия корреляции Пирсона можно определить лишь наличие и силу линейной взаимосвязи между величинами. Прочие характеристики связи, в том числе направление (прямая или обратная), характер изменений (прямолинейный или криволинейный), а также наличие зависимости одной переменной от другой - определяются при помощи регрессионного анализа.    
3.	Количество сопоставляемых величин должно быть равно двум. В случае анализ взаимосвязи трех и более параметров следует воспользоваться методом факторного анализа.    
4.	Критерий корреляции Пирсона является параметрическим, в связи с чем условием его применения служит нормальное распределение сопоставляемых переменных. В случае необходимости корреляционного анализа показателей, распределение которых отличается от нормального, в том числе измеренных в порядковой шкале, следует использовать коэффициент ранговой корелляции Спирмена.    
5.	Следует четко различать понятия зависимости и корреляции. Зависимость величин обуславливает наличие корреляционной связи между ними, но не наоборот.  
![alt text](https://github.com/Kiri28/Data-analysis_project/blob/master/pictures/Tex2Img_1548460577.jpg).  
Где x ̅  и y ̅ – средние значения выборок.  
	Таким образом, в итоговом результате мы получаем двумерную плоскость с коэффициентами, разбросанными по ней, и прямую, обозначающую минимальное квадратичное расстояние каждой точки от неё.
![alt text](https://github.com/Kiri28/Data-analysis_project/blob/master/pictures/Picture14.png). 
В данном примере (см. рисунок 6) сравнивается зависимость между баллами ЕГЭ по математике и баллами за экзамен в 1 семестре среди студентов- экономистов. В данном случае, коэффициент корреляции примерно равен 0,5, что представляет собой умеренные размер корреляции и имеет право на дальнейшее рассмотрение.  









